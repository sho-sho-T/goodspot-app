# ドメイン README（汎用テンプレート）

## 目的

`domain/<domain>` は、ビジネスの中核となるモデルとルールを定義します。
永続化やフレームワークへの依存を排除し、純粋な状態と振る舞いに集中します。

このREADMEは特定ドメインに依存しない形で、ドメイン層の責務を整理したものです。

## ファイル構成と役割

### `<domain>.ts`

- **エンティティ本体**: 状態と振る舞いを集約するクラス。
- **生成/復元**:
  - `create(...)` は新規作成用の工場メソッド。
  - `restore(...)` は永続化データからの復元用メソッド。
- **ドメイン振る舞い**: 変更メソッドや判定メソッドを提供する。
- **外部公開の形**: 必要なら `toJSON()` 等でシリアライズを定義する。

### `<domain>-id.ts`

- **強型 ID**: UUID などの値オブジェクトを継承して識別子を明確化。
- **生成/復元**: `generate()`/`create(value)` を統一的に提供する。

### `<domain>.repository.ts`

- **永続化境界の定義**: Repository インターフェースを定義し、
  実装はインフラ層に委譲する。
- **ドメイン特有の検索**: 必要な検索メソッドのみを定義する。

### `index.ts`

- **公開エクスポート**: ドメイン内の主要ファイルをまとめて re-export する。

## 他モジュールとの関係（参考）

- Repository 実装は `external/repository/*` に置き、ドメインには持ち込まない。
- DTO への変換は Handler か Service 側で行う。
